# yaml-language-server: $schema=https://raw.githubusercontent.com/JanDeDobbeleer/oh-my-posh/main/themes/schema.json

# pinanek23's Oh My Posh theme ðŸ˜˜

blocks:
  - type: prompt
    alignment: left
    newline: true
    segments:
      - type: python
        style: diamond
        background: "#306998"
        foreground: "#ffe873"
        leading_diamond: "\ue0b6"
        template: " {{ if .Error }}{{ .Error }}{{ else }}{{ if .Venv }}\ue235 {{ .Full }} {{ .Venv }} {{ end }}{{ end }}"
        trailing_diamond: "\ue0b4 "
        properties:
          display_mode: "context"
          fetch_virtual_env: true

      - type: session
        style: diamond
        background: "#fbc4ab"
        foreground: "p:black"
        leading_diamond: "\ue0b6"
        template: " {{ if .SSHSession }}\uf817 {{ end }}{{ .UserName }} "
        trailing_diamond: "<background,transparent>\ue0b0</>"

      - type: root
        style: powerline
        powerline_symbol: "\ue0b0"
        template: " \uf0e7 "
        background: "#e5989b"
        foreground: "p:black"

      - type: path
        style: diamond
        background: "#dee2e6"
        foreground: "p:black"
        leading_diamond: "<transparent,background>\ue0b0</>"
        template: " {{ path .PWD .Location }} "
        trailing_diamond: "\ue0b0"

      - type: git
        style: diamond
        background: "#a2d2ff"
        background_templates:
          - "{{ if or (.Working.Changed) (.Staging.Changed) }}#f2cc8f{{ end }}"
          - "{{ if and (gt .Ahead 0) (gt .Behind 0) }}#e5989b{{ end }}"
          - "{{ if gt .Ahead 0 }}#adb5bd{{ end }}"
          - "{{ if gt .Behind 0 }}#6d6875{{ end }}"
        foreground: "p:black"
        foreground_templates":
          - "{{ if or (.Working.Changed) (.Staging.Changed) }}p:black{{ end }}"
          - "{{ if and (gt .Ahead 0) (gt .Behind 0) }}p:black{{ end }}"
          - "{{ if gt .Ahead 0 }}p:black{{ end }}"
        powerline_symbol: "\ue0b0"
        leading_diamond: "<transparent,background>\ue0b0</>"
        template: " {{ if .UpstreamURL }}{{ url .UpstreamIcon .UpstreamURL }} {{ end }}{{ .HEAD }}{{if .BranchStatus }} {{ .BranchStatus }}{{ end }}{{ if .Working.Changed }} \uf044 {{ .Working.String }}{{ end }}{{ if .Staging.Changed }} \uf046 {{ .Staging.String }}{{ end }} "
        trailing_diamond: "\ue0b0"
        properties:
          branch_max_length: 25
          fetch_status: true
          fetch_upstream_icon: true

      - type: executiontime
        style: diamond
        background: "#b2967d"
        foreground: "p:black"
        leading_diamond: "<transparent,background>\ue0b0</>"
        template: " {{ if eq .Code 0 }}{{ .FormattedMs  }}{{ end }}"
        trailing_diamond: "\ue0b4"
        properties:
          threshold: 1
          style: austin

      - type: exit
        style: diamond
        background: "#f08080"
        foreground: "p:black"
        leading_diamond: "<transparent,background>\ue0b0</>"
        template: " {{ if gt .Code 0 }}\uf00d{{ end }} "
        trailing_diamond: "\ue0b4"

  - type: prompt
    alignment: left
    newline: true
    segments:
      - type: text
        style: plain
        foreground: "#fbc4ab"
        template: "\u276f"

final_space: true

transient_prompt:
  background: "transparent"
  foreground: "p:black"
  template: "<#dee2e6,transparent>\ue0b6</><,#dee2e6> {{ .PWD }} </><#dee2e6,transparent>\ue0b4</> "

palette:
  black: "#262B44"
  white: "#E0DEF4"

version: 2
